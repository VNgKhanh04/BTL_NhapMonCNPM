<head>
    <style>
        .search-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            margin: 20px auto;
        }

        #searchBox {
            width: 100%;
            padding: 10px;
            font-size: 16px;
            border: 2px solid #ddd;
            border-radius: 5px;
            outline: none;
            transition: 0.3s;
        }

            #searchBox:focus {
                border-color: #007bff;
                box-shadow: 0px 0px 5px rgba(0, 123, 255, 0.5);
            }

        .suggestions-list {
            position: absolute;
            width: 100%;
            background: #fff;
            border-radius: 5px;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            padding: 0;
            margin: 5px 0 0;
            list-style: none;
            z-index: 1000;
            max-height: 250px;
            overflow-y: auto;
        }

            .suggestions-list li {
                padding: 10px;
                font-size: 16px;
                cursor: pointer;
                transition: 0.2s;
                border-bottom: 1px solid #f1f1f1;
            }

                .suggestions-list li:last-child {
                    border-bottom: none;
                }

                .suggestions-list li:hover {
                    background: #007bff;
                    color: white;
                }

            .suggestions-list:empty {
                display: none;
            }

    </style>
</head>

<div class="search-container">
    <input type="text" id="searchBox" placeholder="Nhập tên bài hát..." class="form-control" autocomplete="off">
    <ul id="suggestions" class="suggestions-list"></ul>
</div>


<script>
    document.addEventListener("DOMContentLoaded", function () {
        document.getElementById("searchBox").addEventListener("keyup", function () {
            let keyword = this.value.trim();
            if (keyword.length == 0) {
                document.getElementById("suggestions").innerHTML = "";
                return;
            }

            fetch(`/TimKiem/Search?keyword=${keyword}`)
                .then(response => response.json())
                .then(data => {
                    let list = "";
                    data.results.forEach(item => {
                        list += `<li class="list-group-item" data-name="${item}">${item}</li>`;
                    });
                    document.getElementById("suggestions").innerHTML = list;
                });
        });

        // Khi click vào bài hát, chuyển đến trang chi tiết
        document.getElementById("suggestions").addEventListener("click", function (event) {
            if (event.target.tagName === "LI") {
                var tenBaiHat = event.target.getAttribute("data-name");
                window.location.href = "/TimKiem/ChiTiet?tenBaiHat=" + encodeURIComponent(tenBaiHat);
            }
        });
    });
</script>



